import{optionalFunctionValue as e,isFunction as r}from"vest-utils";function n(n){var t={references:[]},u=[];return{registerStateKey:function(e,r){var n=u.length;return u.push([e,r]),f(n,e)},reset:function(){var e=c();t.references=[],u.forEach((function(r,n){return f(n,r[0],e[n])}))}};function f(r,n,t){return c().push(),o(r,e(n,t)),function(){return[c()[r],function(n){return o(r,e(n,c()[r]))}]}}function c(){return t.references}function o(e,f){var c=t.references[e];t.references[e]=f;var o=u[e][1];r(o)&&o(f,c),r(n)&&n()}}export{n as createState};
