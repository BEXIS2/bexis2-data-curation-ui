!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("vest-utils")):"function"==typeof define&&define.amd?define(["exports","vest-utils"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).vast={},e["vest-utils"])}(this,(function(e,n){"use strict";e.createState=function(e){var t={references:[]},r=[];return{registerStateKey:function(e,n){var t=r.length;return r.push([e,n]),u(t,e)},reset:function(){var e=i();t.references=[],r.forEach((function(n,t){return u(t,n[0],e[t])}))}};function u(e,t,r){return i().push(),o(e,n.optionalFunctionValue(t,r)),function(){return[i()[e],function(t){return o(e,n.optionalFunctionValue(t,i()[e]))}]}}function i(){return t.references}function o(u,i){var o=t.references[u];t.references[u]=i;var f=r[u][1];n.isFunction(f)&&f(i,o),n.isFunction(e)&&e()}},Object.defineProperty(e,"__esModule",{value:!0})}));
