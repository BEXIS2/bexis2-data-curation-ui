"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("vest-utils");exports.createState=function(n){var r={references:[]},t=[];return{registerStateKey:function(e,n){var r=t.length;return t.push([e,n]),u(r,e)},reset:function(){var e=c();r.references=[],t.forEach((function(n,r){return u(r,n[0],e[r])}))}};function u(n,r,t){return c().push(),i(n,e.optionalFunctionValue(r,t)),function(){return[c()[n],function(r){return i(n,e.optionalFunctionValue(r,c()[n]))}]}}function c(){return r.references}function i(u,c){var i=r.references[u];r.references[u]=c;var o=t[u][1];e.isFunction(o)&&o(c,i),e.isFunction(n)&&n()}};
